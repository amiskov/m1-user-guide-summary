# Basic Configuration



## Store Admin
Your store Admin - это защищенный паролем офис, в котором вы можете настроить продукты, акции,
управление заказами и выполнение других административных задач. Эта глава
обеспечивает высокоуровневый обзор задач и инструментов управления, которые вы можете использовать ежедневно.

### Notifications
В разделе `System > Notifications` находятся все сообщения от Magento. Самые важные сообщения переносятся наверх списка.  

Настройка частоты проверки сообщений от Magento находится в `System > Configuration > System > Notifications`. 
Интервал обновления может составлять от 1 до 24 часов. Можно настроить использование защищенного соединения.

### Admin Menu
Все инструменты, необходимые для управления и обслуживания вашего магазина, доступны в меню администратора:

* __Dashboard (Панель инструментов)__ дает вам быстрый обзор продаж и деятельности клиентов в вашем магазине. Это обычно
первая страница, которая появляется при входе в систему;
* __Sales (Продажи)__. Меню позволяет найти всё связанное с обработкой заказа, включая текущие и
прошлые заказы, счета-фактуры, отгрузки, кредитные авизо, условия и налоги;
* __Catalog (Каталог)__. Меню контролирует все, что связано с вашим каталогом продукции, включая продукты, категории, 
атрибуты, перезаписи URL, условия поиска и индексирование, обзоры продуктов, теги и Google Sitemap;
* __Customers (Клиенты)__. Данное меню - это место, где вы можете управлять учетными записями клиентов, группами и 
сегментами, приглашениями на мероприятия, подарочными сертификатами, подарочными картами и вознаграждениями. Вы даже
можете видеть, какие клиенты онлайн в данный момент;
* __Promotions (Акции)__. В меню вы устанавливаете правила цен для каталога и корзины покупок,
рекламные баннеры и автоматические правила напоминания электронной почты. Правила запускают действия при выполнении условий;
* __Newsletter (Новостная рассылка)__. Меню содержит инструменты, необходимые для публиковации новостей и управления своим списком
подписчиков;
* __CMS ()__. Меню, где вы создаете и управляете контентом для вашего магазина. Вы даже можете создать
иерархию страниц с контролем версий и навигацией. Другие типы контента, которые вы можете создать,
включают статические блоки, баннеры, «виджеты» и опросы;
* __Reports (Отчёты)__. Меню предоставляет широкий выбор отчетов, которые дают вам представление о всех аспектах вашего
магазина, включая продажи, корзину покупок, приглашения, продукты, клиентов, теги, обзоры и условия поиска;
* __System (Система)__. Меню содержит инструменты для настройки и поддержки каждого аспекта вашего магазина.
Вы можете устанавливать расширения и управлять веб-службами для интеграции с другими приложениями.



## Store Details
Основная информация для вашего магазина включает имя и адрес магазина, номер телефона и адрес электронной почты, 
которые отображаются в сообщениях электронной почты, счетах и ​​других сообщениях, отправленных вашим клиентам. 

### Store Information
Настройка основной информации, которая отображается в торговых документах и ​​других сообщениях, находится в
`System > Configuration > Store Information`. Можно указать имя, страну и адрес магазина, контактный телефон,
а также при необходимости Value Added Tax (дополнительный налог).

### Locale Options
Настроить часовой пояс, страну и язык каждого магазина, определить рабочие дни можно в `System > Configuration > Locale Options`.

### State Options
Во многих странах провинция или регион являются обязательной частью почтового адреса. Информация используется в 
документах о доставке и при выставлении счетов, для расчета ставок налогов и т.д. Для стран, где это не требуется, 
поле может быть полностью исключено из адреса или включено как необязательное.

Также можно изменить шаблон адреса, определяющий, как информация отображается в счетах, упаковочных листах и ​​ярлыках доставки.
 
Настройки находятся в `System > Configuration > States Options`.

### Countries Options
Нужно определить страну, в которой находится магазин, и страны, из которых может быть принята оплата. Настроить эти 
параметры можно в `System > Configuration > Countries Options`.

### Store Email Addresses
Можно иметь до пяти разных адресов электронной почты (для каждого магазина и представления). Три из них - это адреса 
“Общий контакт”, “Торговый представитель” и “Служба поддержки”. Еще два адреса можно настроить в соответствии с потребностями.
Настройки находятся в `System > Configuration > Store Email Addresses`. 

### Contact Us
Ссылка «Контакты» в футере каждой страницы - это простой способ для клиентов поддерживать связь с магазином. Форма 
включена по умолчанию и может быть настроена для отправки запросов на конкретный адрес электронной почты и ответов с него же.

Настройки находятся в `System > Configuration > Contacts`. Можно включить или отключить форму на фронте, установить 
шаблон и отправителя письма, которое отсылается при отправке формы, а также почту, на которую оно придет.



## Websites Stores and Views
При установке Magento создаются основной веб-сайт (`main website`), магазин по умолчанию (`default store`) и представление 
магазина (`store view`). Можно создать сколько угодно дополнительных веб-сайтов, магазинов и представлений. 
У каждого сайта могут быть несколько магазинов, а у каждого магазина - несколько отдельных представлений. Представления 
магазина обычно используются для отображения магазина на разных языках, хотя их можно использовать
для других целей. Клиенты используют выбор языка в заголовке, чтобы изменить вид магазина.

Каждый сайт имеет свой собственный домен.

Каждый магазин может иметь другое главное меню, выбор продуктов и внешний вид. Все магазины одного сайта управляются из 
одной админки.
Каждый магазин может иметь отдельную корневую категорию, что позволяет иметь совершенно другой набор навигации для 
разных магазинов.

Создание и управление сайтами, магазинами и представлениями находится в `System > Manage Stores`.  

При создании нового Website:
* name - преднзначено для внутренней ссылки, может быть доменом.
* code - используется на сервере чтобы указывать на домен.

__Для создания нового магазина (`store`):__
* необходимо настроить корневую категорию, которая будет использоваться для этого магазина. Для этого в
Admin manu выбирите `System > Manage Stores`;
* в разделе Manage Stores нажмите кнопку `Create Store`. Затем выполните следующие действия:
  * установите `Website` на сайт, который является родителем этого магазина;
  * введите `Name` для магазина. Имя предназначено для внутренней ссылки, чтобы отличить его от
других магазинов в иерархии.
  * установите `Root Category` в корневую категорию, которая будет использоваться для основной навигации по
магазину. Корневая категория может быть такой же, как и для других магазинов, или уникальной для этого магазина.

__Для создания нового представления магазина (`store view`):__
* в Admin manu выбирите `System > Manage Stores`;
* в разделе Manage Stores нажмите кнопку `Create Store View`. Затем выполните следующие действия: 
  * установите `Store` на магазин, который является родителем этого представления;
  * введите `Name` для представления. Имя появится в «language chooser» в заголовке магазина. Например: французский;
  * введите `Code` в нижнем регистре, чтобы определить представление. Например: privatesales.fr;
  * для активации представления, установите `Status` на `Enabled`;
  * (необязательно) введите номер порядка сортировки `Sort Order`, чтобы определить последовательность, в которой это представление 
  будет перечислено среди других представлений.
  
### Configuration Scope
Если в вашей установке Magento есть несколько веб-сайтов, магазинов или представлений, вы можете установить область действия
параметра конфигурации для применения к определенной части вашей установки. Поле Current Configuration Scope в верхнем левом углу 
рабочей области определяет область текущих настроек. По умолчанию для области конфигурации задано значение «“Default Config”».
Для пользователей-администраторов с ограниченным доступом список включает только те области, где пользователю предоставляется разрешение 
на доступ. Область конфигурации применяется к категориям продуктов, атрибутам, настройкам управления клиентами и т.д.  

Если ваша установка включает в себя несколько веб-сайтов, магазинов или представлений, вы всегда должны устанавливать
Current Configuration Scope для определения того, где вы хотите применить настройки. Возможные настройки: [STORE], [WEBSITE] и [GLOBAL].
Любой элемент с границей [STORE] может быть установлен по-разному для каждого представления. Например, поскольку область имени и
описания продукта - [STORE], поля могут иметь другое значение для каждого языка. Однако некоторые настройки конфигурации, такие как почтовый
индекс являются [GLOBAL], потому что одна и та же настройка применяется во всей системе. Область [WEBSITE] также применяется ко всему сайту,
включая все представления.  

__Scope Settings:__  

<table>
  <tr>
    <th>Store</th>
    <td>Этот параметр ограничен видом магазина, который часто используется для отображение магазина на нескольких языках</td> 
  </tr>
  <tr>
    <th>Website</th>
    <td>Настройки ограничены веб-сайтом</td>
  </tr>
  <tr>
    <th>Global</th>
    <td>Эта настройка применяется ко всей установке</td>
  </tr>
</table>


### Store URLs   
Magento использует переменные для определения внутренних ссылок по отношению к базовому URL, что позволяет перемещать
целое хранилище с одного URL на другой без необходимости обновлять внутренние ссылки. По умолчанию целевая страница для 
базового URL - это «cms». 

__Настроить base URL можно:__  `System > Configuration > GENERAL > Web`

__Настроить Admin URL можно через панель администратора:__ `System > Configuration > ADVANCED > Admin`,
или альтернативным методом, поменяв `# <frontName><![CDATA[admin]]></frontName>` в `app/etc/local.xml`.

### Secure and Unsecure URLs
Каждый сайт в установке Magento имеет базовый URL-адрес, назначенный для фронта и для админки. Можно настроить один или 
оба из них для работы по безопасно зашифрованному каналу SSL. Незащищенные базовые URL-адреса начинаются с «http», а 
защищенные - с «https». Например:  
Unsecure URL: `http://www.yourdomain.com/magento/`  
Secure URL: `https://www.yourdomain.com/magento/`  

Настройки лежат в `System > Configuration > Web (секции “Secure” и “Unsecure”)`.

### Custom Admin URL
В типичной установке Magento путь к админке - это один каталог под корнем (базовым URL-адресом Magento).
Настройки находятся в `System > Configuration > Admin > Admin Base URL`. Можно задать кастомный URL и путь к админке.



## Industry compliance 

### PCI
_The Payment Card Industry (PCI)_ - стандарт, который устанавливает требования для предприятий,
которые принимают платежи с помощью кредитной карты через интернет. 

### Privacy Policy
Политика конфиденциальности должна описывать тип информации, которую собирает компания, и как она используется. 
Также должны быть указаны имена файлов cookie, размещаемые на компьютерах людей, которые посещают магазин. 
Любые дополнительные файлы cookie, связанные с сторонними расширениями и надстройками, должны быть включены в список.

### Cookie Law Compliance
Информация, которая сохраняется в файлах cookie, используется для персонализации опыта покупок, подключения посетителей
к их корзинам, измерения трафика и повышения эффективности рекламных акций. 
Чтобы не отставать от законодательства во многих странах относительно использования файлов cookie, 
Magento предлагает выбор методов получения согласия клиента на использование cookie.

Методы получения согласия клиентов:

* __Implied Consent__. Подразумеваемое согласие означает, что посетители магазина четко понимают, что файлы cookie являются необходимой частью 
операций, и при посещении магазина косвенно дают разрешение на их использование.
Ключом к получению подразумеваемого согласия является предоставление достаточной информации для того, чтобы посетитель
принял обоснованное решение. Во многих магазинах отображается сообщение в верхней части всех стандартных страниц, 
в котором содержится краткий обзор того, как используются файлы cookie, со ссылкой на политику конфиденциальности магазина. 

* __Expressed Consent__. Для работы магазина в режиме ограничения файлов cookie посетители должны выразить свое согласие до того,
как файлы cookie будут сохранены в их браузере. Если согласие не предоставлено, многие функции магазина будут недоступны. 

Если магазин использует Google Analytics, его можно вызвать только после того, 
как посетитель предоставил разрешение на использование файлов cookie. 

Для включения режима ограничения файлов cookie нужно установить полю  
`System > Configuration > Web > Session Cookie Management > Cookie Restriction Mode` значение `“Yes”`.
При использовании режима ограничения файлов cookie на фронте появляется сообщение о том, 
что возможности магазина ограничены без использования cookie, включающее ссылку на политику конфиденциальности
и кнопку согласия на использование cookie. После того, как клиент согласится - сообщение исчезает.

### Cookie Reference
__Magento Standard Cookies__
<table>
  <tr>
    <th>COOKIE NAME</th>
    <th>COOKIE DESCRIPTION</th> 
  </tr>
  <tr>
    <td>USER_ALLOWED_SAVE_COOKIE</td>
    <td>Указывает, разрешено ли клиенту использовать файлы cookie</td> 
  </tr>
  <tr>
    <td>external_no_cache</td>
    <td>Флаг, указывающий, отключено ли кэширование</td> 
  </tr>
  <tr>
    <td>persistent_shopping_cart</td>
    <td>Ключ сессии</td> 
  </tr>
  <tr>
    <td>Stf</td>
    <td>Если ссылки на продукты были отправлены друзьям, 
    они сохраняют временные метки в формате: $ timeStamp1, $ timestamp2, ..., $ timestampN
    </td> 
   </tr>
  <tr>
    <td>pollN</td>
    <td>Идентификатор опроса, который указывает, произошло ли голосование</td> 
  </tr>
  <tr>
    <td>frontend</td>
    <td>ID сессии</td> 
  </tr>
  <tr>
    <td>guest-view</td>
    <td>Позволяет гостям редактировать свои заказы</td> 
  </tr>
</table>  

__Magento Cookies Used with Full Page Cache__
<table>
  <tr>
    <th>COOKIE NAME</th>
    <th>COOKIE DESCRIPTION</th> 
  </tr>
  <tr>
    <td>CUSTOMER</td>
    <td>Хеширование значения ID клиента в формате: customer_$customerId</td>                                          
  </tr>
  <tr>
    <td>CUSTOMER_INFO</td>
    <td>Хеширование значения ID группы клиента в формате: customer_group_ $ customerGroupId</td>                                                          
    </tr>
  <tr>
    <td>NEWMESSAGE</td>
    <td>Указывает, получено ли новое сообщение</td> 
  </tr>
  <tr>
    <td>CART</td>
    <td>Хешированное значение ID котировки в формате: $ quoteId</td> 
   </tr>
  <tr>
    <td>COMPARE</td>
    <td>ID продуктов, добавленные в продукт, сравниваются в формате:
        $ productId 1, $ productId 2, ..., productId N</td> 
  </tr>
  <tr>
    <td>POLL</td>
    <td>ID недавно опротестованного опроса</td> 
  </tr>
  <tr>
    <td>RECENTLYCOMPARED</td>
    <td>ID продуктов недавно сравниваемых продуктов в формате:
        $ productId 1, $ productId 2, ..., productId N</td> 
  </tr>
  <tr>
    <td>WISHLIST</td>
    <td>Хешированный список продуктов, добавленных в список пожеланий, в формате:
        $ productId 1_ $ productId 2_ ..., _productId N</td> 
  </tr>
  <tr>
    <td>WISHLIST_CNT</td>
    <td>Хешированное количество элементов в списке пожеланий клиента в формате: wishlist_item_count _$productCount </td>
  </tr>
  <tr>
    <td>CUSTOMER_AUTH</td>
    <td>Указывает, зарегистрирован ли клиент. Хешированное значение в формате:
        customer_logged_in_0 | 1</td> 
  </tr>
  <tr>
    <td>CATEGORY_INFO</td>
    <td>Сохраняет информацию о категории, чтобы страницы могли загружаться быстрее</td> 
  </tr>
  <tr>
    <td>LAST_CATEGORY </td>
    <td>Недавно просмотренный идентификатор категории в формате: $ categoryID</td> 
   </tr>
  <tr>
    <td>VIEWED_PRODUCT_IDS</td>
    <td>Недавно просмотренные идентификаторы продуктов в формате: $ productId 1,
        $ productId 2, ..., productId N</td> 
  </tr>
  <tr>
    <td>currency </td>
    <td>Код валюты, выбранный клиентом («USD», «UAH»,
        «GBP» и т. Д.)</td> 
  </tr>
  <tr>
    <td>store</td>
    <td>Код вида магазина</td> 
  </tr>
  <tr>
    <td>NO_CACHE</td>
    <td>Указывает, разрешено ли использование кеша</td>
  </tr>
  <tr>
    <td>LAST_PRODUCT</td>
    <td>Идентификатор продукта последнего просмотренного продукта</td>
  </tr>
</table>

__Google Analytics Cookies__
<table>
  <tr>
    <th>COOKIE </th>
    <th>DESCRIPTION</th> 
  </tr>
  <tr>
    <td>_utma</td>
    <td>Различает пользователей и сеансы</td> 
  </tr>
  <tr>
    <td>_utmb</td>
    <td>Определяет новые сеансы / посещения</td> 
  </tr>
  <tr>
    <td>_utmc</td>
    <td>Определяет был ли пользователь в новом сеансе / посещении</td> 
  </tr>
  <tr>
    <td>_utmz</td>
    <td>Хранит источник трафика или компанию, в которой объясняется, как пользователь достиг вашего сайта</td> 
   </tr>
</table>

